// TODO nf-core: Once you have added the required tests, please run the following command to build this file:
// nf-core modules test manifest/maker
process MANIFEST_MAKER{

    //name "Test Process MANIFEST_MAKER"
    //script "../main.nf"
    //process "MANIFEST_MAKER"

    tag "$meta.id"
    label 'process_low'

    container"${}"

    input:
        tuple val(meta), path(file_name)
    
    output:
        tuple val(meta), path("*.*", includeInputs: true), emit: all_files, optional: true
        path "versions.yml", emit: versions


    test("Integrity check stub") {

        when {
            options "-stub"

            process {
                """
                // Just one GFF file
                
                
                input[0] = Channel.of(
                        '##gff-version 3',
                        'chr1\tID=gene1'
                    )
                    .collectFile(name: 'genes.gff3', newLine: true)
                    .map { file -> [ [ id:'test' ], file ] }
                    
                """
            }
        }

        then {
            assert process.success
            assert snapshot(process.out).match()
        }

    }

}