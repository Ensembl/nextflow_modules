{
    "optional_database": {
        "content": [
            [
                [
                    {
                        "id": "test1"
                    },
                    "database"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:46.911446"
    },
    "optional_password": {
        "content": [
            [
                [
                    {
                        "id": "test1"
                    },
                    "password"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:46.909742"
    },
    "Should extract connection info from URL without password": {
        "content": [
            {
                "0": [
                    [
                        {
                            "id": "test2"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "1": [
                    [
                        {
                            "id": "test2"
                        },
                        ""
                    ]
                ],
                "2": [
                    [
                        {
                            "id": "test2"
                        },
                        "database"
                    ]
                ],
                "3": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ],
                "connection_info": [
                    [
                        {
                            "id": "test2"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "optional_database": [
                    [
                        {
                            "id": "test2"
                        },
                        "database"
                    ]
                ],
                "optional_password": [
                    [
                        {
                            "id": "test2"
                        },
                        ""
                    ]
                ],
                "versions": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ]
            }
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T14:47:16.366839"
    },
    "Should extract connection info from URL without database": {
        "content": [
            {
                "0": [
                    [
                        {
                            "id": "test3"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "1": [
                    [
                        {
                            "id": "test3"
                        },
                        "password"
                    ]
                ],
                "2": [
                    [
                        {
                            "id": "test3"
                        },
                        ""
                    ]
                ],
                "3": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ],
                "connection_info": [
                    [
                        {
                            "id": "test3"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "optional_database": [
                    [
                        {
                            "id": "test3"
                        },
                        ""
                    ]
                ],
                "optional_password": [
                    [
                        {
                            "id": "test3"
                        },
                        "password"
                    ]
                ],
                "versions": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ]
            }
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T14:47:18.384323"
    },
    "optional_password_no_database": {
        "content": [
            [
                [
                    {
                        "id": "test3"
                    },
                    "password"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:51.085612"
    },
    "optional_password_no_password": {
        "content": [
            [
                [
                    {
                        "id": "test2"
                    },
                    "null"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:49.065466"
    },
    "connection_info": {
        "content": [
            [
                [
                    {
                        "id": "test1"
                    },
                    "user",
                    "host.com",
                    "3306"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:46.9039"
    },
    "Should extract connection info from URL with all components": {
        "content": [
            {
                "0": [
                    [
                        {
                            "id": "test1"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "1": [
                    [
                        {
                            "id": "test1"
                        },
                        "password"
                    ]
                ],
                "2": [
                    [
                        {
                            "id": "test1"
                        },
                        "database"
                    ]
                ],
                "3": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ],
                "connection_info": [
                    [
                        {
                            "id": "test1"
                        },
                        "user",
                        "host.com",
                        "3306"
                    ]
                ],
                "optional_database": [
                    [
                        {
                            "id": "test1"
                        },
                        "database"
                    ]
                ],
                "optional_password": [
                    [
                        {
                            "id": "test1"
                        },
                        "password"
                    ]
                ],
                "versions": [
                    "versions.yml:md5,844210d41d31414da2041f13946f845c"
                ]
            }
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T14:47:14.131667"
    },
    "optional_database_no_database": {
        "content": [
            [
                [
                    {
                        "id": "test3"
                    },
                    "null"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:51.087938"
    },
    "Should fail with invalid URL format": {
        "content": [
            [
                
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T14:47:20.326552"
    },
    "optional_database_no_password": {
        "content": [
            [
                [
                    {
                        "id": "test2"
                    },
                    "database"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:49.067826"
    },
    "connection_info_no_password": {
        "content": [
            [
                [
                    {
                        "id": "test2"
                    },
                    "user",
                    "host.com",
                    "3306"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:49.062974"
    },
    "connection_info_no_database": {
        "content": [
            [
                [
                    {
                        "id": "test3"
                    },
                    "user",
                    "host.com",
                    "3306"
                ]
            ]
        ],
        "meta": {
            "nf-test": "0.9.2",
            "nextflow": "24.10.5"
        },
        "timestamp": "2025-03-26T12:22:51.083091"
    }
}